<app-header></app-header>
<div class="lg:mx-36 mx-8 mt-5 grid grid-cols-4">
  <!-- Left Column -->
  <div class="col-span-1">
    <div class="flip-container">
      <img
        [src]="author.photoLink"
        alt="Avatar"
        class="shadow-lg rounded-full"
      />
    </div>
  </div>

  <!-- Middle Column -->
  <div class="col-span-3">
    <h2
      class="text-2xl font-bold leading-7 text-gray-900 sm:truncate sm:text-3xl sm:tracking-tight"
    >
      <span class="font-semibold"
        >Consultation de l'{{author.photoLink.includes("/men/") ? "auteur" :
        "autrice" }}:</span
      >
      {{author.firstname + ' ' + author.lastname}}
    </h2>
    <div
      class="mt-1 flex flex-col sm:mt-0 sm:flex-row sm:flex-wrap sm:space-x-6"
    >
      <!-- Author details here -->
    </div>

    <!-- Description -->
    <div class="mb-4 mt-4">
      <p
        class="text-md font-semibold leading-7 text-gray-900 sm:truncate sm:text-md sm:tracking-tight"
      >
        A propos:
      </p>
      <p class="text-gray-700">{{author.description}}</p>
      <p class="text-gray-700 mt-5">
        <span class="font-semibold">Date de naissance:</span>
        {{getBirthDateStr()}}
      </p>
      <p class="text-gray-700" *ngIf="author.deathDate">
        <span class="font-semibold">Date de décès:</span>
        {{getDeathDateStr()}}
      </p>
      <p class="text-gray-700 mt-5">
        <span class="font-semibold">Nationalité:</span>
        {{author.nationality}}
      </p>
      <p class="text-gray-700 mt-5">
        <span class="font-semibold">Genre(s) littéraire(s):</span>
        {{getAuthorsBooksCategories()}}
      </p>
      <p class="text-gray-700">
        <span class="font-semibold">Nombre de livres publiés à ce jour</span>
        {{author.books.length}} livres
      </p>
    </div>
  </div>
</div>
<!-- En savoir plus sur les auteurs section -->
<div class="lg:mx-36 mx-8">
  <div class="mb-8">
    <h3 class="text-lg font-semibold leading-6 text-gray-900">
      {{author.photoLink.includes("/men/") ? "Il" : "Elle"}} a écrit :
    </h3>
    <div class="mt-5 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3">
      <!-- Author avatar on the left and firstname lastname on the right-->
      <div
        *ngFor="let book of author.books"
        class="flex flex-col rounded-lg shadow-lg overflow-hidden transition-all duration-200 ease-in-out transform hover:border-indigo-600 hover:border-4"
        style="cursor: pointer"
        routerLink="/consult/{{book.id}}"
      >
        <div class="flex-shrink-0">
          <img class="h-48 w-full object-cover" [src]="book.coverLink" alt="" />
        </div>
        <div class="flex-1 bg-white p-6 flex flex-col justify-between">
          <div class="flex-1">
            <p class="text-lg font-medium text-indigo-600">{{book.title}}</p>
            <a class="block mt-2">{{book.summary}}</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
